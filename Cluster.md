# 搭建小型集群：forward

srs定位为源站服务器，其中一项重要的功能是forward，即将服务器的流转发到其他服务器。

forward本身是用做热备，即用户推一路流上来，可以被SRS转发（或者转码后转发）到多个源站，CDN边缘可以回多个源，实现故障热备的功能，构建强容错系统。

forward也可以用作搭建小型集群。架构图如下：
```
                                                    +-------------+    +------------------+
                                                +-->+  Edge(1935) +->--+  Player(2000)    +
                                                |   +-------------+    +------------------+
                                                |   +-------------+    +------------------+
                                                |-->+  Edge(1936) +->--+  Player(3000)    +
                                                |   +-------------+    +------------------+
+-----------+           +-----------+           |     192.168.1.6                          
|  Encoder  +-publish->-+    SRS    +-forward->-|                                          
+-----------+           +-----------+           |   +-------------+    +------------------+
 192.168.1.3             192.168.1.5            +-->+  Edge(1935) +->--+  Player(2000)    +
                                                |   +-------------+    +------------------+
                                                |   +-------------+    +------------------+
                                                +-->+  Edge(1936) +->--+  Player(3000)    +
                                                    +-------------+    +------------------+
                                                      192.168.1.7                          
```
下面是搭建小型集群的实例。

## Encoder编码器

编码器使用FFMPEG推流。编码参数如下：
```
```